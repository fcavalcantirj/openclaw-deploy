[
  {
    "category": "provision",
    "description": "Create provision.sh that creates Hetzner VM with SSH access",
    "passes": true
  },
  {
    "category": "provision",
    "description": "Create bootstrap.sh that prepares VM for Claude Code",
    "passes": true
  },
  {
    "category": "setup",
    "description": "Create setup-openclaw.sh that runs Claude Code on VM to configure everything",
    "passes": true
  },
  {
    "category": "setup",
    "description": "Create prompts/setup-openclaw.md for Claude Code on VM",
    "passes": true
  },
  {
    "category": "setup",
    "description": "Create setup-tailscale.sh that runs Claude Code on VM for Tailscale",
    "passes": true
  },
  {
    "category": "setup",
    "description": "Create setup-skills.sh that configures OpenAI Whisper and ClawdHub",
    "passes": true
  },
  {
    "category": "setup",
    "description": "Create setup-monitoring.sh that installs healthcheck on VM",
    "passes": true
  },
  {
    "category": "setup",
    "description": "Create verify.sh that runs full verification checklist",
    "passes": true
  },
  {
    "category": "orchestration",
    "description": "Create deploy.sh master script that orchestrates everything",
    "passes": true
  },
  {
    "category": "teardown",
    "description": "Create destroy.sh for clean teardown",
    "passes": true
  },
  {
    "category": "management",
    "description": "Create status.sh and list.sh for instance management",
    "passes": true
  },
  {
    "category": "templates",
    "description": "Create templates/openclaw.json base config",
    "passes": true
  },
  {
    "category": "telegram",
    "description": "Create setup-telegram-bot.sh to configure bot token and restart gateway",
    "passes": true
  },
  {
    "category": "telegram",
    "description": "Create approve-user.sh for pairing approval (list pending, approve by code)",
    "passes": true
  },
  {
    "category": "telegram",
    "description": "Create user-onboard.sh to orchestrate: set bot, notify user, wait for pairing, approve",
    "passes": true
  },
  {
    "category": "messaging",
    "description": "Create send-message.sh to send messages to any child instance",
    "passes": true
  },
  {
    "category": "messaging",
    "description": "Create receive-check.sh to check for new messages/events on an instance",
    "passes": true
  },
  {
    "category": "control",
    "description": "Create restart.sh to restart OpenClaw gateway on an instance",
    "passes": true
  },
  {
    "category": "control",
    "description": "Create update.sh to update OpenClaw version on an instance",
    "passes": true
  },
  {
    "category": "control",
    "description": "Create logs.sh to fetch and display logs from an instance",
    "passes": true
  },
  {
    "category": "control",
    "description": "Create config-view.sh to view/update config on an instance",
    "passes": true
  },
  {
    "category": "monitoring",
    "description": "Create monitor-all.sh that checks ALL instances and alerts on issues",
    "passes": true
  },
  {
    "category": "monitoring",
    "description": "Add cron/heartbeat integration to monitor children from parent Claw",
    "passes": true
  },
  {
    "category": "recovery",
    "description": "Create resuscitate.sh to recover crashed/unresponsive instances",
    "passes": true
  },
  {
    "category": "skill",
    "description": "Create SKILL.md to package this as a proper OpenClaw skill",
    "passes": true
  },
  {
    "category": "documentation",
    "description": "Create comprehensive README with all workflows and examples",
    "passes": true
  },
  {
    "category": "bugfix",
    "description": "Fix systemctl --user vs system-level inconsistency — all scripts use systemctl --user but master-setup.sh installs system-level unit at /etc/systemd/system/",
    "steps": [
      "Audit all files using systemctl --user: monitor-all.sh, resuscitate.sh, restart.sh, update.sh, status.sh, verify.sh, setup-monitoring.sh, setup-telegram-bot.sh, setup-skills.sh, healthcheck.sh",
      "Replace systemctl --user with sudo systemctl in all operational scripts",
      "Update SPEC.md and prompts/setup-openclaw.md documentation to match",
      "Verify: grep confirms zero remaining systemctl --user in scripts/",
      "Verify: bash -n passes on all modified scripts"
    ],
    "passes": true
  },
  {
    "category": "architecture",
    "description": "Document AMCP identity crisis — openclaw-deploy creates fake identity.json incompatible with amcp-protocol and proactive-amcp",
    "steps": [
      "Study amcp-protocol: real KERI identity with Ed25519 AID, signed checkpoints, BIP-39 recovery",
      "Study proactive-amcp: watchdog enforcement, tiered resurrection, secrets injection, session repair",
      "Identify divergence: openclaw-deploy uses sha256(seed) not Ed25519, stores secrets in identity.json, uploads cleartext to IPFS",
      "Write URGENT-AMCP-IDENTITY-CRISIS.md with full analysis, migration path, and convergence plan",
      "Verify: document covers all three projects and their integration points"
    ],
    "passes": true
  },
  {
    "category": "testing",
    "description": "Write TDD validation tests for systemctl fix — structural checks only, no gateway interaction",
    "steps": [
      "Grep all scripts/ for any remaining systemctl --user references for gateway",
      "Verify bash -n syntax on every modified script (28/28 pass)",
      "Verify sudo systemctl pattern is used consistently for gateway ops",
      "Verify claw CLI (root SSH) still uses bare systemctl (correct)"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Install amcp-protocol CLI on VM during master-setup.sh",
    "steps": [
      "Add npm install -g @amcp/cli step to master-setup.sh after Node 22 installation",
      "Verify amcp CLI is on PATH: 'amcp --version'",
      "Make installation idempotent: check if already installed before reinstalling"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Install proactive-amcp on VM during master-setup.sh",
    "steps": [
      "Add proactive-amcp installation step after amcp-protocol CLI is available",
      "Primary: clawhub install proactive-amcp",
      "Fallback: git clone from known repo if clawhub unavailable",
      "Verify proactive-amcp commands are available: 'proactive-amcp --help'"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Replace fake identity creation with 'amcp identity create'",
    "steps": [
      "Remove sha256(seed) identity generation block from master-setup.sh",
      "Replace with: amcp identity create --out ~/.amcp/identity.json",
      "Verify identity is valid KERI: amcp identity validate",
      "Verify: no sha256sum calls remain in identity creation path"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Replace embedded watchdog (~120 lines in master-setup.sh) with 'proactive-amcp install --watchdog-interval'",
    "steps": [
      "Remove embedded watchdog script generation from master-setup.sh",
      "Remove embedded systemd unit file generation for watchdog",
      "Replace with: proactive-amcp install --watchdog-interval 120",
      "Verify watchdog service is running: systemctl status proactive-amcp-watchdog"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Replace embedded checkpoint (~60 lines in master-setup.sh) with 'proactive-amcp install --checkpoint-schedule'",
    "steps": [
      "Remove embedded checkpoint script generation from master-setup.sh",
      "Remove embedded cron setup for checkpoints",
      "Replace with: proactive-amcp install --checkpoint-schedule '0 */6 * * *'",
      "Verify checkpoint cron is active"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Move secrets to proactive-amcp config — use 'proactive-amcp config set' instead of embedding in identity.json",
    "steps": [
      "Remove all jq writes of secrets (pinata_jwt, parent_bot_token) to identity.json",
      "Replace with: proactive-amcp config set pinata_jwt \"$PINATA_JWT\"",
      "Replace with: proactive-amcp config set parent_bot_token \"$PARENT_BOT_TOKEN\"",
      "Verify secrets live in ~/.amcp/config.json, NOT in identity.json"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Remove ALL direct identity.json mutations from scripts — zero jq writes to identity.json",
    "steps": [
      "Audit all files in scripts/ for jq writes to identity.json",
      "Audit prompts/ and claw CLI for identity.json mutations",
      "Replace each mutation with appropriate amcp CLI or proactive-amcp command",
      "Verify: grep -r 'identity.json' scripts/ returns only reads, zero writes"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Update claw CLI status command to use 'amcp identity validate' instead of raw jq",
    "steps": [
      "Find claw CLI status command that reads identity.json with jq",
      "Replace raw jq .aid read with: amcp identity validate --json",
      "Parse structured output for display (AID prefix, valid/invalid status)",
      "Verify: claw status shows identity validation status"
    ],
    "passes": true
  },
  {
    "category": "testing",
    "description": "Verify: grep confirms zero jq.*identity.json writes remaining in scripts/",
    "steps": [
      "Run: grep -rn 'jq.*identity.json' scripts/ prompts/ — expect zero write matches",
      "Run: grep -rn 'identity.json' scripts/ — verify remaining references are reads or documentation only",
      "Run: grep -rn 'sha256' scripts/ — verify no sha256-based identity generation remains"
    ],
    "passes": true
  },
  {
    "category": "testing",
    "description": "Verify: master-setup.sh is under 300 lines after removing embedded code",
    "steps": [
      "Count lines in prompts/setup-openclaw.md (master-setup.sh template)",
      "Verify line count is under 300 (was ~440, removing ~180 lines of embedded code)",
      "Verify bash -n passes on the reduced script",
      "Verify no orphaned variables or references to removed sections"
    ],
    "passes": true
  },
  {
    "category": "deploy",
    "description": "Register child Solvr account during deployment — deterministic protocol-08 naming",
    "steps": [
      "Resolve parent name: auto-detect from SOLVR_API_KEY via /v1/me, or require --parent-solvr-name flag",
      "Build child name: {PARENT_SOLVR_NAME}_child_{INSTANCE_NAME} (validate: lowercase, alphanum+underscore, max 32 chars)",
      "Call Solvr API: POST /v1/agents/register with computed name, store returned api_key in child config",
      "Store parentSolvrName in child config at skills.entries.proactive-amcp.config.parentSolvrName",
      "Verify: child can call GET /v1/me with its own key, name matches pattern"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Add 'claw diagnose' command — Claude Code runs health checks + searches Solvr",
    "steps": [
      "Add diagnose command to claw CLI, SSH to instance with -t for TTY",
      "Read SOLVR_API_KEY from child config, construct prompt from templates/diagnose-prompt.md",
      "Claude Code checks: gateway process, port 18789, auth-profiles format, systemd, disk, memory, logs",
      "For each error: search Solvr, post novel issues as problems",
      "Return JSON: {checks_passed, checks_failed, errors, solvr_matches}",
      "Verify: claw diagnose <instance> returns valid JSON with Solvr matches"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Add 'claw fix' command — Claude Code fixes issues via Solvr, escalates after 3 failures",
    "steps": [
      "Add fix command to claw CLI, runs diagnose first internally",
      "For each issue: search Solvr for solutions, apply fix, update approach status",
      "If no solution: post problem, try fix, add approach, track attempts (max 3)",
      "After 3 failures: escalate to parent via Telegram + email",
      "On success: send summary to parent Telegram (calm tone)",
      "Verify: Solvr workflow runs end-to-end, escalation fires after 3 failed attempts"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Add 'claw shell' command — interactive Claude Code session on child instance",
    "steps": [
      "Add shell command to claw CLI",
      "SSH to instance with -t, detect workspace directory, exec claude --dangerously-skip-permissions",
      "Verify: claw shell <instance> opens interactive Claude Code with workspace access"
    ],
    "passes": true
  },
  {
    "category": "template",
    "description": "Create templates/diagnose-prompt.md for Claude Code health check sessions",
    "steps": [
      "Define health checks: gateway, port, auth-profiles, systemd, disk, memory, logs",
      "Define Solvr workflow: search for each error, post novel issues",
      "Define output format: JSON with checks_passed, checks_failed, errors, solvr_matches",
      "Verify: prompt is unambiguous, Claude Code can follow without interpretation"
    ],
    "passes": true
  },
  {
    "category": "template",
    "description": "Create templates/fix-prompt.md for Claude Code fix sessions with Solvr workflow",
    "steps": [
      "Input: diagnose JSON output as {{DIAGNOSE_OUTPUT}}",
      "Define Solvr workflow: search → apply → PATCH approach status, or POST problem → try fix → POST approach",
      "Define escalation: after 3 failed attempts, send Telegram + email to parent",
      "Placeholders: DIAGNOSE_OUTPUT, SOLVR_API_KEY, PARENT_TELEGRAM_TOKEN, PARENT_CHAT_ID, INSTANCE_NAME",
      "Verify: covers all Solvr API calls, escalation is loud and clear"
    ],
    "passes": true
  },
  {
    "category": "config",
    "description": "Store parent config in metadata.json and child OpenClaw config during deploy",
    "steps": [
      "Accept flags: --parent-solvr-name, --parent-telegram-token, --parent-chat-id, --parent-email",
      "Resolve parent name: auto-detect from SOLVR_API_KEY or require flag",
      "Store in instances/<name>/metadata.json: parent_solvr_name, notification config, ssh_key_path, ip",
      "Store in child OpenClaw config: skills.entries.proactive-amcp.config.parentSolvrName",
      "Verify: metadata.json and child config both have parent references after deploy"
    ],
    "passes": true
  },
  {
    "category": "lib",
    "description": "Create scripts/lib/solvr.sh — Solvr API helper functions",
    "steps": [
      "Require SOLVR_API_KEY env var",
      "Functions: solvr_search(query), solvr_post_problem(title, desc, tags), solvr_add_approach(problem_id, angle, method)",
      "Functions: solvr_update_approach(approach_id, status), solvr_verify_approach(approach_id)",
      "All use curl with -s -H 'Authorization: Bearer $SOLVR_API_KEY', exit 0/1",
      "Verify: each function works against Solvr API"
    ],
    "passes": true
  },
  {
    "category": "bugfix",
    "description": "Verify auth-profiles.json format fix (already done)",
    "steps": [
      "Check master-setup.sh auth-profiles.json template",
      "Confirm format: {version:1, profiles:{...}, order:{...}}, each profile has 'type' not 'kind'",
      "Verify: deployed auth-profiles.json matches template"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Install Claude Code CLI on child VMs during master-setup.sh",
    "steps": [
      "Add npm install -g @anthropic-ai/claude-code step after Node.js installation in master-setup.sh",
      "Make installation idempotent: check if already installed before reinstalling",
      "Verify: claude --version returns version on deployed child VM"
    ],
    "passes": true
  },
  {
    "category": "integration",
    "description": "Store ANTHROPIC_API_KEY in proactive-amcp config during master-setup.sh",
    "steps": [
      "Add proactive-amcp config set anthropic.apiKey alongside existing config set calls",
      "Verify: proactive-amcp config get anthropic.apiKey returns key on child VM"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Update claw diagnose to delegate to proactive-amcp diagnose on child VM",
    "steps": [
      "Replace prompt-template upload approach with SSH call to proactive-amcp diagnose on child",
      "Child handles Claude invocation, Solvr workflow, and JSON output locally",
      "Parent passes ANTHROPIC_API_KEY as fallback (child config takes precedence)",
      "Parse JSON output from child, handle non-JSON gracefully",
      "Verify: claw diagnose <child> returns JSON with solvr fields"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Add claw diagnose self for local parent diagnosis",
    "steps": [
      "Add 'self' target to cmd_diagnose that runs proactive-amcp diagnose locally",
      "Skip SSH, run directly on parent machine",
      "Verify: claw diagnose self returns JSON health report"
    ],
    "passes": true
  },
  {
    "category": "bugfix",
    "description": "Fix SSH user: scripts hardcode 'openclaw@' but VMs use root — add ssh_user to metadata.json with root default, update all scripts",
    "steps": [
      "Add ssh_user field support to load_instance() in lib/common.sh: INSTANCE_SSH_USER=$(jq -r '.ssh_user // \"root\"' \"$meta_file\")",
      "Update ssh_exec() in lib/common.sh to use $INSTANCE_SSH_USER instead of hardcoded 'root@'",
      "Update ssh_check() in lib/common.sh to use $INSTANCE_SSH_USER instead of hardcoded 'root@'",
      "Fix list.sh check_reachable(): replace hardcoded 'openclaw@$ip' with ssh_user from metadata (default root)",
      "Fix status.sh: replace all 'openclaw@$SERVER_IP' references with ssh_user from metadata (default root) — lines 101, 122, 131, 142, 151, 162, 171, 180, 192, 202",
      "Fix monitor-all.sh check_instance(): replace 'openclaw@$ip' with ssh_user from metadata (default root) — lines 139, 146, 155, 164, 173",
      "Fix monitor-all.sh get_instance_details(): replace 'openclaw@$ip' with ssh_user from metadata (default root) — lines 198, 201, 204, 207",
      "Fix restart.sh: replace all 'openclaw@$IP' references with ssh_user from metadata (default root) — lines 95, 103, 119, 135, 147, 154, 172",
      "Update dana's metadata.json: add '\"ssh_user\": \"root\"'",
      "Verify: list.sh shows dana as 'online' not 'offline'",
      "Verify: grep -rn 'openclaw@' scripts/ returns zero matches in operational scripts (only docs/comments)"
    ],
    "passes": true
  },
  {
    "category": "bugfix",
    "description": "Fix restart.sh JSON field name: reads '.ssh_key' but metadata uses 'ssh_key_path' — causes 'SSH key not found at null'",
    "steps": [
      "Fix restart.sh line 78: change jq -r '.ssh_key' to jq -r '.ssh_key_path // .ssh_key // empty' (matches list.sh and status.sh pattern)",
      "Add null/empty validation after SSH_KEY extraction: if [[ -z \"$SSH_KEY\" || \"$SSH_KEY\" == \"null\" || ! -f \"$SSH_KEY\" ]]; then error; fi",
      "Refactor restart.sh to source lib/common.sh and use load_instance() + ssh_exec() instead of duplicating SSH logic",
      "Verify: ./scripts/restart.sh dana does not print 'SSH key not found at null'",
      "Verify: bash -n passes on modified restart.sh"
    ],
    "passes": true
  },
  {
    "category": "management",
    "description": "Create import.sh — import existing Hetzner servers not tracked by CLI into instances/ directory",
    "steps": [
      "Create scripts/import.sh accepting: instance-name, IP, SSH key path as required arguments",
      "Validate arguments: name must be alphanumeric+hyphen, IP must be valid format, SSH key file must exist",
      "Create instances/<name>/ directory and metadata.json with: name, ip, ssh_user (default root), ssh_key_path, status 'imported', imported_at timestamp",
      "Run SSH connectivity test after import: ssh -i key root@ip 'echo ok'",
      "If SSH succeeds: probe for OpenClaw version, gateway status, update metadata with discovered info",
      "If SSH fails: warn but still create metadata (instance may need different SSH key or user)",
      "Refuse to overwrite existing instance: if instances/<name>/metadata.json exists, error with 'already tracked'",
      "Verify: ./scripts/import.sh jack 46.225.128.59 ~/.ssh/openclaw_jack creates valid metadata.json",
      "Verify: ./scripts/list.sh shows imported instance after import",
      "Verify: bash -n passes on import.sh"
    ],
    "passes": true
  },
  {
    "category": "bugfix",
    "description": "Migrate scripts not using lib/common.sh — list.sh, status.sh, monitor-all.sh, restart.sh should source common.sh for SSH helpers",
    "steps": [
      "Refactor list.sh to source lib/common.sh: use load_instance() for metadata, ssh_check() for reachability, remove duplicate color/function definitions",
      "Refactor status.sh to source lib/common.sh: use load_instance() + ssh_exec() for all SSH calls, remove duplicate color/function definitions",
      "Refactor monitor-all.sh check_instance() to source lib/common.sh: use load_instance() + ssh_exec(), remove inline SSH calls",
      "Refactor restart.sh to source lib/common.sh: use load_instance() + ssh_exec(), remove duplicate error/info/success functions",
      "Verify: all four scripts use INSTANCE_SSH_USER from load_instance() — single source of truth for SSH user",
      "Verify: grep -c 'source.*common.sh' scripts/{list,status,monitor-all,restart}.sh returns 4 (all source it)",
      "Verify: bash -n passes on all four modified scripts"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Add 'claw auth' command — show/switch auth mode (API key vs OAuth) on child instances",
    "steps": [
      "Create scripts/auth.sh: show current auth profile, switch to OAuth or API key",
      "Show mode: SSH to child, read auth-profiles.json + sessions.json + ~/.claude/.credentials.json, display active profile, fallback order, OAuth expiry",
      "Switch to OAuth (--mode oauth): verify .credentials.json exists, unwrap nested claudeAiOauth key, upsert anthropic:oauth profile in auth-profiles.json, patch all sessions' authProfileOverride, restart gateway",
      "Switch to API key (--mode apikey): set auth-profiles.json order to [token, oauth], patch all sessions' authProfileOverride to anthropic:token, restart gateway",
      "Dynamic service user detection: detect openclaw home via getent passwd, fallback find /home -name .openclaw",
      "Gateway restart: sudo systemctl restart, fallback pkill + nohup openclaw gateway",
      "Add auth route to claw CLI dispatcher + help text",
      "Create test/auth.bats with 15 tests: usage, show, oauth switch, apikey switch, missing creds, SSH failure",
      "Verify: claw auth <name> shows active profile, claw auth <name> --mode oauth switches and restarts"
    ],
    "passes": true
  },
  {
    "category": "deploy",
    "description": "Configure Anthropic models + fallbacks during deploy — default Sonnet, fallback Opus then Haiku",
    "steps": [
      "Add model configuration step to master-setup.sh after gateway first starts",
      "Set default: openclaw models set anthropic/claude-sonnet-4-5-20250929",
      "Set fallbacks: openclaw config set agents.defaults.model.fallbacks '[\"anthropic/claude-opus-4-6\",\"anthropic/claude-haiku-4-5-20251001\"]' --json",
      "Accept optional --model flag in deploy.sh to override default (e.g. --model anthropic/claude-opus-4-6)",
      "Accept optional --fallback-models flag for custom fallback chain",
      "Restart gateway after model config: pkill + nohup openclaw gateway --port 18789",
      "Verify: openclaw models on child shows correct default + 2 fallbacks",
      "Verify: gateway log shows 'agent model: anthropic/claude-sonnet-4-5-20250929' on startup"
    ],
    "passes": true
  },
  {
    "category": "deploy",
    "description": "Install OpenClaw provider auth plugins during deploy — Google Gemini OAuth, Copilot proxy",
    "steps": [
      "Enable google-gemini-cli-auth plugin: openclaw config set plugins.entries.google-gemini-cli-auth.enabled true",
      "Enable google-antigravity-auth plugin: openclaw config set plugins.entries.google-antigravity-auth.enabled true",
      "Enable copilot-proxy plugin if OpenAI key present: openclaw config set plugins.entries.copilot-proxy.enabled true",
      "Restart gateway after plugin config to load new plugins",
      "Verify: openclaw plugins list shows provider plugins as loaded",
      "Verify: openclaw models auth login --provider lists available providers"
    ],
    "passes": true
  },
  {
    "category": "deploy",
    "description": "Install skills via ClawdHub during deploy — gog, openai-whisper, github, session-logs, proactive-amcp",
    "steps": [
      "Install gog (Google Workspace): clawhub install gog (already bundled, verify ready)",
      "Install openai-whisper: clawhub install openai-whisper (local Whisper CLI, no API key)",
      "Install openai-whisper-api: clawhub install openai-whisper-api (cloud Whisper, needs OpenAI key)",
      "Install github: clawhub install github (gh CLI integration)",
      "Install session-logs: clawhub install session-logs (jq-based log search)",
      "Install proactive-amcp if not already present: clawhub install proactive-amcp || npm install -g proactive-amcp",
      "Accept optional --skills flag in deploy.sh for custom skill list",
      "Verify: openclaw skills list shows all target skills as ready",
      "Verify: each skill's required CLI dependency is on PATH (gog, whisper, gh)"
    ],
    "passes": true
  },
  {
    "category": "deploy",
    "description": "Register child Solvr account and configure proactive-amcp during deploy",
    "steps": [
      "Register child Solvr: proactive-amcp solvr-register --parent-name $PARENT_SOLVR_NAME --instance-name $INSTANCE_NAME",
      "Store child Solvr API key: proactive-amcp config set solvr.apiKey $CHILD_SOLVR_KEY",
      "Store parent Solvr name: proactive-amcp config set solvr.parentName $PARENT_SOLVR_NAME",
      "Configure watchdog: proactive-amcp install --watchdog-interval 120 --service openclaw-gateway --port 18789",
      "Configure checkpoint: proactive-amcp install --checkpoint-schedule '0 */4 * * *'",
      "Store all secrets via config set: pinata_jwt, parent_bot_token, parent_chat_id, agentmail keys",
      "Verify: proactive-amcp config get solvr.apiKey returns valid key",
      "Verify: systemctl status proactive-amcp-watchdog shows active"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Add 'claw models' command — show/set models and fallbacks on child instances",
    "steps": [
      "Create scripts/models.sh following auth.sh pattern: SSH to child, run openclaw models",
      "Show mode (claw models <name>): display default model, fallbacks, auth overview, configured models",
      "Set default (claw models <name> --set <model>): openclaw models set <model>, restart gateway",
      "Set fallbacks (claw models <name> --fallbacks '<json>'): openclaw config set agents.defaults.model.fallbacks, restart gateway",
      "Add models route to claw CLI dispatcher + help text + examples",
      "Create test/models.bats: usage, show, set model, set fallbacks, SSH failure",
      "Verify: claw models jack shows anthropic/claude-sonnet-4-5-20250929 + 2 fallbacks"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Add 'claw plugins' command — show/enable/disable OpenClaw plugins on child instances",
    "steps": [
      "Create scripts/plugins.sh: SSH to child, run openclaw plugins list/enable/disable",
      "Show mode (claw plugins <name>): display loaded vs disabled plugins",
      "Enable (claw plugins <name> --enable <id>): openclaw config set plugins.entries.<id>.enabled true, restart",
      "Disable (claw plugins <name> --disable <id>): openclaw config set plugins.entries.<id>.enabled false, restart",
      "Add plugins route to claw CLI dispatcher",
      "Verify: claw plugins jack lists all 36 plugins with load status"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Add 'claw skills' command — list/install/update skills on child instances via ClawdHub",
    "steps": [
      "Create scripts/skills.sh: SSH to child, run openclaw skills list / clawhub install",
      "Show mode (claw skills <name>): display ready vs missing skills",
      "Install (claw skills <name> --install <skill>): clawhub install <skill>, verify ready",
      "Update (claw skills <name> --update): clawhub update on child",
      "Add skills route to claw CLI dispatcher",
      "Verify: claw skills jack --install openai-whisper installs and shows ready"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Enhance 'claw diagnose' to check model config, auth health, plugins, skills, and Solvr registration",
    "steps": [
      "Add model check: verify default model is set, fallbacks configured, no 'missing' auth profiles",
      "Add plugin check: verify expected provider plugins are loaded (telegram, google-gemini-cli-auth)",
      "Add skill check: verify critical skills are ready (clawhub, gog, healthcheck, proactive-amcp)",
      "Add Solvr check: verify child Solvr registration via GET /v1/me with child API key",
      "Add proactive-amcp check: verify watchdog running, last checkpoint < 24h, identity valid",
      "Report each as pass/warn/fail in diagnose JSON output",
      "Verify: claw diagnose jack reports model, plugin, skill, and Solvr status"
    ],
    "passes": true
  },
  {
    "category": "cli",
    "description": "Enhance 'claw status' to show model, auth mode, plugins, skills, and Solvr in summary",
    "steps": [
      "Add model line: default model + fallback count",
      "Add auth line: active profile (oauth/apikey) + expiry if oauth",
      "Add plugins line: loaded count / total",
      "Add skills line: ready count / total",
      "Add Solvr line: child name + registered status",
      "Add AMCP line: watchdog status + last checkpoint age",
      "Verify: claw status jack shows full stack overview in one screen"
    ],
    "passes": true
  },
  {
    "category": "testing",
    "description": "Verify CLI fixes end-to-end: all 4 servers reachable, list/status/restart/monitor work correctly",
    "steps": [
      "Import missing servers: jack (46.225.128.59), bruce-russo (138.199.218.151), clawd-bruv-ubuntu (157.180.67.193)",
      "Verify: ./scripts/list.sh shows all 4 instances with 'online' reachability",
      "Verify: ./scripts/status.sh dana completes live checks without SSH errors",
      "Verify: ./scripts/restart.sh dana restarts gateway without 'SSH key not found' error",
      "Verify: ./scripts/monitor-all.sh reports correct health status for all instances",
      "Verify: grep confirms zero hardcoded 'openclaw@' in operational scripts"
    ],
    "passes": true
  },
  {
    "category": "solvr",
    "phase": 2,
    "description": "Pass SOLVR_API_KEY to child during provisioning via proactive-amcp secrets vault",
    "steps": [
      "Modify scripts/bootstrap.sh to accept SOLVR_API_KEY parameter",
      "Store key in child ~/.amcp/config.json under apiKeys.solvr",
      "Use agentmemory secret set if AgentMemory configured, else direct config write",
      "Verify: deployed child can authenticate to api.solvr.dev/v1/me"
    ],
    "passes": true
  },
  {
    "category": "solvr",
    "phase": 2,
    "description": "Configure child AMCP storage.provider = solvr with Pinata fallback",
    "steps": [
      "Update scripts/setup-amcp.sh to set storage.provider in ~/.amcp/config.json",
      "Default: provider=solvr, fallback=[pinata] (if PINATA_JWT provided)",
      "Set storage.solvrEndpoint to https://api.solvr.dev",
      "Verify: proactive-amcp checkpoint uses Solvr, falls back to Pinata on failure"
    ],
    "passes": true
  },
  {
    "category": "solvr",
    "phase": 2,
    "description": "Add --solvr-enabled flag to deploy.sh for opt-in Solvr IPFS pinning",
    "steps": [
      "Add --solvr-enabled CLI flag to scripts/deploy.sh",
      "When enabled: require SOLVR_API_KEY env var or prompt",
      "Pass flag through to bootstrap.sh and setup-amcp.sh",
      "Update README with Solvr integration documentation",
      "Verify: deploy.sh --solvr-enabled creates child with working Solvr pinning"
    ],
    "passes": true
  }
]
