[
  {"category": "infrastructure","description": "Verify hcloud CLI is installed and configured with Hetzner API token","steps": ["Check if hcloud CLI is installed: which hcloud","Configure hcloud context: hcloud context create openclaw (if not exists)","Verify connectivity: hcloud server list should not error","Store verification in instances/hcloud-verified.json"],"passes": false},
  {"category": "infrastructure","description": "Store Anthropic API key securely for Claude Code on VMs","steps": ["Read existing key from ~/.openclaw/agents/main/agent/auth-profiles.json","Extract anthropic:token key value","Store in instances/credentials.json (gitignored)","Verify key format starts with sk-ant-"],"passes": false},
  {"category": "provision","description": "Create provision.sh script that creates Hetzner VM with SSH access","steps": ["Accept --name and --region flags (defaults: auto-generate name, nbg1)","Generate SSH key if not exists: ssh-keygen -t ed25519","Upload SSH key to Hetzner: hcloud ssh-key create","Create server: hcloud server create --type cx22 --image ubuntu-24.04","Wait for boot and verify SSH connectivity","Write metadata to instances/{name}/metadata.json"],"passes": false},
  {"category": "provision","description": "Create bootstrap.sh that installs Node 22 and Claude Code CLI on VM","steps": ["Update apt packages","Install essentials: curl, git, jq, ufw, tmux","Install Node 22 via nodesource","Install Claude Code: npm i -g @anthropic-ai/claude-code","Configure UFW: allow SSH only, deny all incoming","Create openclaw user with sudo access","Verify: node -v returns v22.x, which claude returns path"],"passes": false},
  {"category": "setup","description": "Create Claude Code prompt that installs and configures OpenClaw Gateway","steps": ["Install openclaw globally: npm i -g openclaw@latest","Run openclaw gateway install for systemd service","Enable linger: loginctl enable-linger openclaw","Configure gateway bind=loopback, port=18789, auth=token","Enable telegram channel with dmPolicy=pairing","Enable chatCompletions HTTP endpoint","Verify: openclaw gateway status shows running"],"passes": false},
  {"category": "networking","description": "Add Tailscale installation and authentication to setup flow","steps": ["Install Tailscale: curl -fsSL https://tailscale.com/install.sh | sh","Run tailscale up and capture auth URL","Present auth URL to user for manual click","Poll tailscale status until connected (timeout 5min)","Record Tailscale IP in metadata.json","Optionally apply tags: tag:openclaw-{purpose}"],"passes": false},
  {"category": "channels","description": "Create interactive Telegram bot configuration flow","steps": ["Prompt user for Telegram bot token from BotFather","Validate token format: /^[0-9]+:[A-Za-z0-9_-]+$/","Test token: curl api.telegram.org/bot{token}/getMe","Update OpenClaw config with botToken","Restart gateway: openclaw gateway restart","Guide user to message bot and get pairing code","Approve pairing: openclaw pairing approve telegram {code}"],"passes": false},
  {"category": "monitoring","description": "Set up healthcheck script and systemd timer on deployed VMs","steps": ["Create ~/scripts/healthcheck.sh on VM","Check gateway status, restart if down","Check disk and memory usage, log warnings","Create systemd user service and timer (5min interval)","Enable timer: systemctl --user enable --now","Configure logrotate for /tmp/openclaw/*.log","Verify: systemctl --user list-timers shows active"],"passes": false},
  {"category": "verification","description": "Create verification checklist that confirms full deployment","steps": ["SSH connectivity test","openclaw --version returns version","openclaw gateway status shows running","systemctl --user is-active openclaw-gateway","tailscale status shows connected","openclaw channels status shows telegram enabled","healthcheck timer active","UFW firewall enabled","Generate QUICKREF.md with all access details"],"passes": false},
  {"category": "teardown","description": "Create destroy.sh script for clean instance removal","steps": ["Require --confirm flag for safety","Logout from Tailscale on VM","Delete Hetzner server: hcloud server delete","Delete SSH key from Hetzner","Remove local SSH keys","Archive metadata to instances/.archive/"],"passes": false},
  {"category": "orchestration","description": "Create master deploy.sh that orchestrates full deployment interactively","steps": ["Interview user: instance name, region, telegram token ready?","Run provision.sh to create VM","Run bootstrap via SSH","Trigger Claude Code with setup prompt","Wait for Tailscale auth (present URL, poll status)","Configure Telegram (get token, set config, guide pairing)","Run verification checklist","Report final status with all access details"],"passes": false},
  {"category": "scripts","description": "Create status.sh and list.sh for instance management","steps": ["status.sh: Show instance details from metadata.json","status.sh: Run live checks (SSH, gateway, tailscale)","list.sh: List all instances with status summary","list.sh: Show table format with name, IP, status, region"],"passes": false},
  {"category": "security","description": "Add .gitignore and secure credential handling","steps": ["Create .gitignore: instances/*/metadata.json, credentials.json, *.key","Never commit API keys or tokens","Store Hetzner token via hcloud context (not in repo)","Store Anthropic key in credentials.json (gitignored)"],"passes": false},
  {"category": "documentation","description": "Create comprehensive README and CLAUDE.md","steps": ["README: Quick start, prerequisites, usage examples","README: Architecture diagram, security model, costs","CLAUDE.md: Project instructions for Claude Code","CLAUDE.md: Directory structure, workflow, decisions"],"passes": false}
]
